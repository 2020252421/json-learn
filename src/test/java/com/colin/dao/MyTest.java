package com.colin.dao;


import com.colin.mapper.ScoreMapper;
import com.colin.util.JSONUtil;
import com.colin.util.MybatisUtil;

import org.apache.ibatis.session.SqlSession;
import org.junit.Test;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

public class MyTest {


    //@Test
    public void test1() {
        String jsonStr = "{\"QueryRsp\":{\"UniBssBody\":{\"OrderNo1\":\"270000\",\"OrderNo2\":\"2020-05-28 11:10:03\",\"ReceiverZip\":\"\",\"DeliverExpress\":{\"LastModifiedTime\":\"0001-01-01 00:00:00\",\"Enabled\":\"0\",\"ExpressId\":0,\"ShipLevel\":0,\"TemplateId\":0},\"BuyerAlipayNo\":\"\",\"AfterSaleServiceId\":24730,\"Attachment4\":\"\",\"OcOrderId\":\"2005280000076666\",\"Attachment3\":\"\",\"LastModifiedType\":5,\"Attachment2\":\"\",\"Attachment1\":\"\",\"ExchangeLines\":[],\"Version\":2,\"ActualFillUpFee\":0,\"SalesOrder\":{\"PrintTimes\":0,\"GoodsTotal\":0,\"CreatedTime\":\"2020-05-28T18:37:25.560533+08:00\",\"UserDefinedField4\":\"\",\"ActualWeight\":0,\"CostPostFee\":0,\"EstimatedWeight\":0,\"OrderStatusEnum\":10,\"ShopOrderNo\":\"202005-05270012\",\"StockTotal\":0,\"Payments\":[],\"UserDefinedField1\":\"\",\"DiscountFee\":0,\"UserDefinedField2\":\"0\",\"IsEditCheckQty\":false,\"UserDefinedField3\":\"api\",\"AdjustFee\":0,\"ExpressId\":0,\"LastModifiedType\":10,\"CalcTotal\":0,\"OrderStatus\":10,\"OrderType\":10,\"Version\":0,\"PrintTag\":0,\"ShopId\":0,\"OrderTag\":0,\"WhsId\":0,\"InvoiceStatusEnum\":10,\"OrderId\":20200529,\"StdPostFee\":0,\"InvoiceType\":10,\"DeliveryTime\":\"2020-05-28T12:48:02\",\"ReceiverMobile\":\"18513061147\",\"InvoiceTotal\":0,\"TotalNum\":0,\"OrderTotal\":0,\"InvoiceStatus\":10,\"ReceiverName\":\"测试用户LY\",\"OrderTypeEnum\":10,\"Lines\":[{\"StockPrice\":0,\"StockQty\":0,\"ItemInfo\":{\"Property4\":\"\",\"IsStopProducte\":false,\"ItemStatusEnum\":0,\"Property3\":\"\",\"Property2\":\"\",\"ItemCode\":\"CS003\",\"CreatedTime\":\"2020-05-26T18:14:37\",\"Property1\":\"\",\"Size\":0,\"BarCode\":\"\",\"CatCode\":0,\"LowestPrice\":0,\"Property12\":\"X\",\"PurchasePrice\":0,\"Property11\":\"\",\"Property10\":\"\",\"Unit\":\"\",\"ItemId\":128,\"IsVirtual\":true,\"SalesPrice\":0,\"MarketPrice\":0,\"Proportion\":1,\"ItemName\":\"搭售测试01\",\"Status\":0,\"IsSerialNumber\":false,\"SupplierCode\":\"\",\"PurchaseUnit\":\"\",\"CatName1\":\"\",\"CatName2\":\"\",\"ShelfLife\":0,\"CatPath\":\"\",\"CatName\":\"\",\"Weight\":0,\"IsAgent\":false,\"UpdateTime\":\"2020-05-26T18:14:37\",\"PictureUrl\":\"\",\"Property9\":\"\",\"Property8\":\"\",\"InvoiceName\":\"\",\"Property7\":\"\",\"Property6\":\"\",\"Memo\":\"\",\"Lines\":[],\"UserSign\":\"api\",\"Property5\":\"\"},\"SkuCode\":\"CS003\",\"BarCode\":\"\",\"ValidateQty\":0,\"Unit\":\"\",\"QuantityOri\":2700,\"ItemId\":128,\"IsVirtual\":true,\"LineStatus\":20,\"AvailableQty\":0,\"LineNum\":0,\"Version\":10,\"LineTotal\":2700,\"ItemName\":\"搭售测试01\",\"LineMemo\":\"\",\"LineAdjustFee\":0,\"IsSerialNumber\":false,\"StockValue\":0,\"SerialNumbers\":\"864478049419974\",\"Quantity\":1,\"OrderId\":154402771,\"ActualPrice\":2700,\"Price\":2700,\"LineUdf1\":\"\",\"LineUdf2\":0,\"LineDiscountFee\":0,\"LineStatusEnum\":20},{\"StockPrice\":0,\"StockQty\":0,\"ItemInfo\":{\"Property4\":\"\",\"IsStopProducte\":false,\"ItemStatusEnum\":0,\"Property3\":\"\",\"Property2\":\"\",\"ItemCode\":\"7400207582\",\"CreatedTime\":\"2020-05-05T14:33:49\",\"Property1\":\"\",\"Size\":0,\"BarCode\":\"\",\"CatCode\":0,\"LowestPrice\":0,\"Property12\":\"\",\"PurchasePrice\":0,\"Property11\":\"\",\"Property10\":\"\",\"Unit\":\"台\",\"ItemId\":108,\"IsVirtual\":false,\"SalesPrice\":0,\"MarketPrice\":0,\"Proportion\":1,\"ItemName\":\"3G手机终端_酷派7230 玩酷黑（代销）_酷派_GSM_黑_无礼包\",\"Status\":0,\"IsSerialNumber\":false,\"SupplierCode\":\"\",\"PurchaseUnit\":\"\",\"CatName1\":\"\",\"CatName2\":\"\",\"ShelfLife\":0,\"CatPath\":\"\",\"CatName\":\"\",\"Weight\":0,\"IsAgent\":false,\"UpdateTime\":\"2020-05-25T23:06:12\",\"PictureUrl\":\"\",\"Property9\":\"\",\"Property8\":\"\",\"InvoiceName\":\"\",\"Property7\":\"\",\"Property6\":\"\",\"Memo\":\"\",\"Lines\":[{\"Property2\":\"\",\"Property1\":\"\",\"SupplierCode\":\"\",\"UserDefinedField4\":\"\",\"UserDefinedField5\":\"\",\"SkuCode\":\"7400207582\",\"Size\":0,\"BarCode\":\"\",\"LowestPrice\":0,\"UserDefinedField1\":\"\",\"PurchasePrice\":0,\"UserDefinedField2\":\"\",\"UserDefinedField3\":\"\",\"Unit\":\"\",\"ItemId\":108,\"Weight\":0,\"SalesPrice\":0,\"MarketPrice\":0,\"Proportion\":1,\"SkuName\":\"　\",\"SkuId\":113}],\"UserSign\":\"admin\",\"Property5\":\"\"},\"SkuCode\":\"7400207582\",\"BarCode\":\"\",\"ValidateQty\":0,\"Unit\":\"台\",\"QuantityOri\":10,\"ItemId\":108,\"IsVirtual\":false,\"LineStatus\":20,\"AvailableQty\":0,\"LineNum\":1,\"Version\":10,\"LineTotal\":0,\"ItemName\":\"3G手机终端_酷派7230 玩酷黑（代销）_酷派_GSM_黑_无礼包\",\"LineMemo\":\"组合商品:搭售测试01\",\"LineAdjustFee\":0,\"IsSerialNumber\":false,\"StockValue\":0,\"SerialNumbers\":\"864478049420212\",\"Quantity\":1,\"ParentSku\":\"CS003\",\"OrderId\":154402771,\"ActualPrice\":0,\"Price\":0,\"SkuName\":\"　\",\"LineUdf1\":\"\",\"LineUdf2\":0,\"LineDiscountFee\":0,\"LineStatusEnum\":20},{\"StockPrice\":0,\"StockQty\":0,\"ItemInfo\":{\"Property4\":\"\",\"IsStopProducte\":false,\"ItemStatusEnum\":0,\"Property3\":\"\",\"Property2\":\"\",\"ItemCode\":\"7410100041\",\"CreatedTime\":\"2020-05-26T18:19:47\",\"Property1\":\"\",\"Size\":0,\"BarCode\":\"\",\"CatCode\":0,\"LowestPrice\":0,\"Property12\":\"\",\"PurchasePrice\":0,\"Property11\":\"\",\"Property10\":\"\",\"Unit\":\"\",\"ItemId\":130,\"IsVirtual\":false,\"SalesPrice\":0,\"MarketPrice\":0,\"Proportion\":1,\"ItemName\":\"搭售商品泛终端测试\",\"Status\":0,\"IsSerialNumber\":false,\"SupplierCode\":\"\",\"PurchaseUnit\":\"\",\"CatName1\":\"\",\"CatName2\":\"\",\"ShelfLife\":0,\"CatPath\":\"\",\"CatName\":\"\",\"Weight\":0,\"IsAgent\":false,\"UpdateTime\":\"2020-05-26T18:19:47\",\"PictureUrl\":\"\",\"Property9\":\"\",\"Property8\":\"\",\"InvoiceName\":\"\",\"Property7\":\"\",\"Property6\":\"\",\"Memo\":\"\",\"Lines\":[{\"Property2\":\"\",\"Property1\":\"\",\"SupplierCode\":\"\",\"UserDefinedField4\":\"\",\"UserDefinedField5\":\"\",\"SkuCode\":\"7410100041\",\"Size\":0,\"BarCode\":\"\",\"LowestPrice\":0,\"UserDefinedField1\":\"\",\"PurchasePrice\":0,\"UserDefinedField2\":\"\",\"UserDefinedField3\":\"\",\"Unit\":\"\",\"ItemId\":130,\"Weight\":0,\"SalesPrice\":0,\"MarketPrice\":0,\"Proportion\":1,\"SkuName\":\"　\",\"SkuId\":151}],\"UserSign\":\"manager\",\"Property5\":\"\"},\"SkuCode\":\"7410100041\",\"BarCode\":\"\",\"ValidateQty\":0,\"Unit\":\"\",\"QuantityOri\":2700,\"ItemId\":130,\"IsVirtual\":false,\"LineStatus\":20,\"AvailableQty\":0,\"LineNum\":2,\"Version\":10,\"LineTotal\":0,\"ItemName\":\"搭售商品泛终端测试\",\"LineMemo\":\"组合商品:搭售测试01\",\"LineAdjustFee\":0,\"IsSerialNumber\":false,\"StockValue\":0,\"SerialNumbers\":\"864478049420238\",\"Quantity\":1,\"ParentSku\":\"CS003\",\"OrderId\":154402771,\"ActualPrice\":0,\"Price\":0,\"SkuName\":\"　\",\"LineUdf1\":\"\",\"LineUdf2\":0,\"LineDiscountFee\":0,\"LineStatusEnum\":20},{\"StockPrice\":0,\"StockQty\":0,\"ItemInfo\":{\"Property4\":\"\",\"IsStopProducte\":false,\"ItemStatusEnum\":0,\"Property3\":\"\",\"Property2\":\"\",\"ItemCode\":\"7410101038\",\"CreatedTime\":\"2020-05-26T18:20:15\",\"Property1\":\"\",\"Size\":0,\"BarCode\":\"\",\"CatCode\":0,\"LowestPrice\":0,\"Property12\":\"\",\"PurchasePrice\":0,\"Property11\":\"\",\"Property10\":\"\",\"Unit\":\"\",\"ItemId\":131,\"IsVirtual\":false,\"SalesPrice\":0,\"MarketPrice\":0,\"Proportion\":1,\"ItemName\":\"搭售产品反终端测试2\",\"Status\":0,\"IsSerialNumber\":false,\"SupplierCode\":\"\",\"PurchaseUnit\":\"\",\"CatName1\":\"\",\"CatName2\":\"\",\"ShelfLife\":0,\"CatPath\":\"\",\"CatName\":\"\",\"Weight\":0,\"IsAgent\":false,\"UpdateTime\":\"2020-05-26T18:20:15\",\"PictureUrl\":\"\",\"Property9\":\"\",\"Property8\":\"\",\"InvoiceName\":\"\",\"Property7\":\"\",\"Property6\":\"\",\"Memo\":\"\",\"Lines\":[],\"UserSign\":\"manager\",\"Property5\":\"\"},\"SkuCode\":\"7410101038\",\"BarCode\":\"\",\"ValidateQty\":0,\"Unit\":\"\",\"QuantityOri\":2700,\"ItemId\":131,\"IsVirtual\":false,\"LineStatus\":20,\"AvailableQty\":0,\"LineNum\":3,\"Version\":10,\"LineTotal\":0,\"ItemName\":\"搭售产品反终端测试2\",\"LineMemo\":\"组合商品:搭售测试01\",\"LineAdjustFee\":0,\"IsSerialNumber\":false,\"StockValue\":0,\"Quantity\":1,\"ParentSku\":\"CS003\",\"OrderId\":154402771,\"ActualPrice\":0,\"Price\":0,\"LineUdf1\":\"\",\"LineUdf2\":0,\"LineDiscountFee\":0,\"LineStatusEnum\":20}],\"ActPostFee\":0},\"Status\":10,\"ReceiverAddress\":\"北京市西城区\",\"RefundMemo\":\"\",\"StartTime\":\"2020-05-22 16:32:15\",\"OrderId\":154402771,\"ReturnExpress\":{\"ExpressName\":\"顺丰速运\",\"LastModifiedTime\":\"0001-01-01T00:00:00\",\"Enabled\":\"0\",\"ExpressId\":0,\"ShipLevel\":0,\"TemplateId\":0},\"Shop\":{\"IsDownLoadJournal\":\"1\",\"ShopName\":\"2号拼多多\",\"IsAutoDownLoad\":\"0\",\"ShopType\":\"Offline\",\"IsUploadOrder\":\"0\",\"UserDefinedField1\":\"\",\"UserDefinedField2\":\"\",\"IsUploadItem\":\"0\",\"AuthorizeDate\":\"2020-05-28 18:37:25\",\"RoleTagType\":0,\"IsUploadStock\":\"0\",\"ShopId\":35},\"ShopOrderStatus\":\"\",\"ReceiverDistrict\":\"西城区\",\"AfterSaleServiceNo\":\"40200528111003024730\",\"ReceiverState\":\"北京\",\"OC_ORDER_ID\":\"2005280000076666\",\"UserDefinedField4\":\"2020-05-28 11:10:07\",\"ExpressTrackNo\":\"\",\"NeedSerial\":\"\",\"EventLines\":[],\"UserDefinedField1\":\"\",\"UserDefinedField2\":\"\",\"OrderNo\":\"20200527402771\",\"SellerMemo\":\"\",\"UserDefinedField3\":\"admin\",\"ReturnWarehouse\":{\"WhsName\":\"主仓库\",\"WhsCode\":\"10\",\"WhsId\":1,\"LastModifiedTime\":\"0001-01-01 00:00:00\",\"WhsTypeEnum\":0,\"RoleTagType\":0,\"WhsType\":0,\"IsDisable\":\"0\"},\"AfterSaleSourcesEnum\":20,\"ItemLines\":[{\"StockPrice\":0,\"CreatedTime\":\"\",\"ItemInfo\":{\"Status\":10,\"IsStopProducte\":\"0\",\"ItemStatusEnum\":10,\"ItemCode\":\"7400207582\",\"CreatedTime\":\"2020-05-28T18:37:25.564439+08:00\",\"Property1\":\"\",\"IsSerialNumber\":\"0\",\"SupplierCode\":\"\",\"Size\":0,\"LowestPrice\":\"0\",\"ShelfLife\":0,\"PurchasePrice\":\"0\",\"ItemId\":108,\"IsVirtual\":\"0\",\"Weight\":0,\"SalesPrice\":\"0\",\"IsAgent\":\"0\",\"MarketPrice\":\"0\",\"Proportion\":1,\"UpdateTime\":\"2020-05-28T18:37:25.564439+08:00\",\"Lines\":[]},\"SkuCode\":\"7400207582\",\"NeedSerial\":\"1\",\"BarCode\":\"\",\"AfterSaleServiceId\":24730,\"ShopOrderNo\":\"\",\"Unit\":\"台\",\"ItemId\":108,\"OfferId\":\"1589596043206826\",\"LineNum\":1,\"Version\":2,\"LineTotal\":\"100000\",\"ItemName\":\"3G手机终端_酷派7230 玩酷黑（代销）_酷派_GSM_黑_无礼包\",\"LineUdf3\":\"\",\"LineUdf4\":0,\"StockValue\":0,\"SerialNumbers\":\"\",\"Quantity\":1,\"ShopLineNo\":\"\",\"ActualPrice\":0,\"Price\":\"100000\",\"SalesOrderSN\":\"\",\"UpdateTime\":\"\",\"SkuName\":\"　\",\"LineUdf1\":\"CS003\",\"LineUdf2\":\"\"},{\"StockPrice\":0,\"CreatedTime\":\"\",\"ItemInfo\":{\"Status\":10,\"IsStopProducte\":\"0\",\"ItemStatusEnum\":10,\"ItemCode\":\"7410100041\",\"CreatedTime\":\"2020-05-28T18:37:25.5673685+08:00\",\"Property1\":\"\",\"IsSerialNumber\":\"0\",\"SupplierCode\":\"\",\"Size\":0,\"LowestPrice\":\"0\",\"ShelfLife\":0,\"PurchasePrice\":\"0\",\"ItemId\":130,\"IsVirtual\":\"0\",\"Weight\":0,\"SalesPrice\":\"0\",\"IsAgent\":\"0\",\"MarketPrice\":\"0\",\"Proportion\":1,\"UpdateTime\":\"2020-05-28T18:37:25.5673685+08:00\",\"Lines\":[]},\"SkuCode\":\"7410100041\",\"NeedSerial\":\"1\",\"BarCode\":\"\",\"AfterSaleServiceId\":24730,\"ShopOrderNo\":\"\",\"Unit\":\"\",\"QuantityOri\":2700,\"ItemId\":130,\"OfferId\":\"1589596502209757\",\"LineNum\":2,\"Version\":2,\"LineTotal\":\"90000\",\"ItemName\":\"搭售商品泛终端测试\",\"LineUdf3\":\"\",\"LineUdf4\":0,\"StockValue\":0,\"SerialNumbers\":\"\",\"Quantity\":1,\"ShopLineNo\":\"\",\"ActualPrice\":0,\"Price\":\"90000\",\"SalesOrderSN\":\"\",\"UpdateTime\":\"\",\"SkuName\":\"　\",\"LineUdf1\":\"CS003\",\"LineUdf2\":\"\"},{\"StockPrice\":0,\"CreatedTime\":\"\",\"ItemInfo\":{\"Status\":10,\"IsStopProducte\":\"0\",\"ItemStatusEnum\":10,\"ItemCode\":\"7410101038\",\"CreatedTime\":\"2020-05-28T18:37:25.5693215+08:00\",\"Property1\":\"\",\"IsSerialNumber\":\"0\",\"SupplierCode\":\"\",\"Size\":0,\"LowestPrice\":\"0\",\"ShelfLife\":0,\"PurchasePrice\":\"0\",\"ItemId\":131,\"IsVirtual\":\"0\",\"Weight\":0,\"SalesPrice\":\"0\",\"IsAgent\":\"0\",\"MarketPrice\":\"0\",\"Proportion\":1,\"UpdateTime\":\"2020-05-28T18:37:25.5693215+08:00\",\"Lines\":[]},\"SkuCode\":\"7410101038\",\"NeedSerial\":\"1\",\"BarCode\":\"\",\"AfterSaleServiceId\":24730,\"ShopOrderNo\":\"\",\"Unit\":\"\",\"QuantityOri\":2700,\"ItemId\":131,\"OfferId\":\"1589596414189266\",\"LineNum\":3,\"Version\":2,\"LineTotal\":\"80000\",\"ItemName\":\"搭售产品反终端测试2\",\"LineUdf3\":\"\",\"LineUdf4\":0,\"StockValue\":0,\"SerialNumbers\":\"\",\"Quantity\":1,\"ShopLineNo\":\"\",\"ActualPrice\":0,\"Price\":\"80000\",\"SalesOrderSN\":\"\",\"UpdateTime\":\"\",\"SkuName\":\"\",\"LineUdf1\":\"CS003\",\"LineUdf2\":\"\"}],\"Source\":20,\"ReturnWhsId\":1,\"DeliverExpressId\":47,\"RefundPhase\":\"onsale\",\"ReceiverPhone\":\"\",\"SalesOrderId\":\"12345678910\",\"SaleOrderId\":\"2005270061678270\",\"IsReceiveInvoice\":\"0\",\"FillUpFee\":0,\"ReceiverCity\":\"北京市\",\"CustomerName\":\"测试用户\",\"ShopId\":35,\"DeliverWhsId\":1,\"CustomerCode\":\"278736\",\"AfterSaleTypesEnum\":10,\"RepairFee\":0,\"InvoiceNo\":\"\",\"DeliverWarehouse\":{\"WhsId\":0,\"LastModifiedTime\":\"0001-01-01 00:00:00\",\"WhsTypeEnum\":0,\"RoleTagType\":0,\"WhsType\":0,\"IsDisable\":\"0\"},\"ActualRefundFee\":0,\"InvoiceType\":10,\"ReceiverMobile\":\"18513061147\",\"Type\":10,\"UpdateTime\":\"2020-05-28 11:10:07\",\"Tag\":40,\"AfterSaleStatusEnum\":10,\"ReceiverName\":\"测试用户LY\",\"RefundFeeTotal\":\"270000\",\"LastModifiedUser\":\"admin\",\"ReturnExpressId\":4}}}";
        Map<String, String> inMap = new HashMap<String, String>();
        inMap.put("OrderNo1", "2005190060709076");
        inMap.put("OrderNo2", "2005190060709076");
        inMap.put("OrderNo3", "2005190060709077");
        inMap.put("TouchOrderId4", "2005190060709078");
        inMap.put("PROVINCE_CODE", "59");
        inMap.put("TRADE_STAFFID", "NYY085");
        inMap.put("ORDER_CITY", "591");
        JSONObject jsonObj = JSONUtil.changeJsonObj(JSONObject.parseObject(jsonStr), inMap);
        System.out.println(jsonObj.toString());

    }


    @Test
    public void test() {
        String strData = "{\"name\":\"Annie\"},{\"age\":\"18\"}";
        Map<String, Object> score = JSONUtil.parseJSON2Map(strData);
        System.out.println(score);
    }

    @Test
    public void insertScore() {
        String strData = "[{\"name\":\"Annie\"},{\"age\":\"18\"}]";
        SqlSession sqlSession = MybatisUtil.getSqlSession();
        ScoreMapper mapper = sqlSession.getMapper(ScoreMapper.class);
        Map<String, Object> score = JSONUtil.parseJSON2Map(strData);
        mapper.insertScore(score);
        sqlSession.close();
    }

}
